<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KSH Makeup - Home</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Montserrat:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./CSS/style.css" />
    <link rel="stylesheet" href="./CSS/navbar.css" />
    <link rel="stylesheet" href="./CSS/footer.css" />
    <link rel="stylesheet" href="./CSS/responsive.css" />

    <link rel="icon" type="image/png" href="./images/icon.png" />
  </head>

  <body>
    <!-- ================= AUTH MODAL ================= -->
    <div id="auth-modal">
      <div class="auth-box">
        <span class="close-btn" onclick="toggleAuth()">x</span>

        <h2 data-i18n="welcome">Welcome to KSH</h2>

        <input type="email" placeholder="Email" />
        <input type="password" placeholder="Password" />

        <button class="auth-btn" onclick="handleLogin()" data-i18n="login">
          Login
        </button>

        <p class="switch">
          <span data-i18n="new_here">New here?</span>
          <span onclick="switchAuth()" data-i18n="create_account"> </span>
        </p>
      </div>
    </div>

    <!-- ================= HEADER ================= -->
    <header>
      <div class="header-center">
        <div class="logo"><a class="logo-link" href="index.html">KSH</a></div>

        <div>
          <h1>KSH Makeup</h1>
          <p>Kiss Slay Highlight</p>
        </div>
      </div>

      <nav class="nav-links">
        <a href="index.html" data-i18n="home">Home</a>
        <a href="top-products.html" class="active" data-i18n="top_products"
          >Top Products</a
        >
        <a href="shop.html" data-i18n="shop">Shop</a>
        <a href="contact.html" data-i18n="contact">Contact</a>
      </nav>

      <div class="burger" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <div class="header-icon">
        <select id="language-select" onchange="changeLanguage()">
          <option value="en">EN</option>
          <option value="fr">FR</option>
          <option value="ar">AR</option>
          <option value="es">ES</option>
          <option value="ko">KO</option>
        </select>

        <i
          id="login-icon"
          class="fa-regular fa-user"
          onclick="toggleAuth()"
        ></i>
        <i
          id="favorites-icon"
          class="fa-regular fa-heart"
          onclick="toggleFavorites()"
          title="Favorites"
        ></i>

        <i
          id="cart-icon"
          class="fa-solid fa-cart-shopping"
          onclick="handleCart(event)"
        ></i>
      </div>
    </header>

    <!-- Slider -->
    <section id="img-slider">
      <div class="slide active">
        <div class="info">
          <h4 class="select-none" data-i18n="hero_subtitle">
            A touch of beauty
          </h4>
          <h2 class="select-none" data-i18n="hero_title">
            Where beauty meets confidence
          </h2>
          <h1 class="select-none" data-i18n="hero_main">Elegant Everyday</h1>
          <br />
          <p class="select-none" data-i18n="hero_desc">
            Soft textures, thoughtful shades, beauty that feels natural and
            stays with you
          </p>
          <br /><br /><br />
          <button
            data-i18n="shop_now"
            onclick="window.location.href='shop.html'"
          >
            Shop Now
          </button>
        </div>
      </div>
    </section>
    <div class="stock-ticker">
      <ul>
        <li><span class="company">Beauty</span></li>
        <li><span class="company">Highlighter</span></li>
        <li><span class="company">Blush</span></li>
        <li><span class="company">Radiance</span></li>
        <li><span class="company">Sparkle</span></li>
        <li><span class="company">Glow</span></li>
        <li><span class="company">Elegance</span></li>
        <li><span class="company">Shine</span></li>
      </ul>

      <ul aria-hidden="true">
        <li><span class="company">Beauty</span></li>
        <li><span class="company">Highlighter</span></li>
        <li><span class="company">Blush</span></li>
        <li><span class="company">Radiance</span></li>
        <li><span class="company">Sparkle</span></li>
        <li><span class="company">Glow</span></li>
        <li><span class="company">Elegance</span></li>
        <li><span class="company">Shine</span></li>
      </ul>
    </div>

    <!-- Why KSH -->
    <section class="why-ksh reveal">
      <h2 data-i18n="why_ksh_title">Why KSH ?</h2>
      <div class="why-grid">
        <div class="why-card reveal reveal-left">
          <i class="fa-solid fa-gem"></i>
          <h3 data-i18n="premium_quality">Premium Quality</h3>
          <p data-i18n="premium_quality_desc">
            High-end formulas designed for elegance and performance.
          </p>
        </div>
        <div class="why-card reveal">
          <i class="fa-solid fa-heart"></i>
          <h3 data-i18n="cruelty_free">Cruelty Free</h3>
          <p data-i18n="cruelty_free_desc">
            Beauty with respect. Never tested on animals.
          </p>
        </div>
        <div class="why-card reveal reveal-right">
          <i class="fa-solid fa-crown"></i>
          <h3 data-i18n="luxury_experience">Luxury Experience</h3>
          <p data-i18n="luxury_experience_desc">
            Inspired by haute couture and timeless beauty.
          </p>
        </div>
      </div>
    </section>

    <!-- NewsLetter -->
    <section id="newsletter" class="section-p1 section-m1">
      <div class="newstext">
        <h4 data-i18n="newsletter_title">Sign Up for NewsLetters</h4>
        <p data-i18n="newsletter_desc">
          Get E-mail updates about our latest shop and special offers
        </p>
      </div>
      <form class="form">
        <input type="email" placeholder="Your email address" required />
        <button class="normal" type="submit" data-i18n="newsletter_btn">
          Sign Up
        </button>
      </form>
    </section>

    <!-- ================= FOOTER ================= -->
    <footer>
      <!-- ================= REVIEWS ================= -->
<section id="reviews-section">
  <div class="reviews-container">
    <h2 class="reviews-title">Website Reviews</h2>

    <form id="review-form" class="review-form">
      <input type="text" id="reviewer-name" placeholder="Your Name" required />

      <textarea
        id="review-text"
        rows="4"
        placeholder="Write your review..."
        required
      ></textarea>

      <div class="rating-row">
        <span class="rating-label">Your Rating:</span>

        <div class="stars-input" id="stars-input">
          <i class="fa-solid fa-star" data-value="1"></i>
          <i class="fa-solid fa-star" data-value="2"></i>
          <i class="fa-solid fa-star" data-value="3"></i>
          <i class="fa-solid fa-star" data-value="4"></i>
          <i class="fa-solid fa-star" data-value="5"></i>
        </div>

        <input type="hidden" id="review-rating" value="0" required />
      </div>

      <button type="submit" class="normal">Add Review</button>
    </form>

    <!-- Reviews appear here -->
    <div id="reviews-list" class="reviews-list"></div>
  </div>
</section>
<script>
  /* Reviews feature: add/edit/delete + localStorage */
  (() => {
    const form = document.getElementById("review-form");
    const nameInput = document.getElementById("reviewer-name");
    const textInput = document.getElementById("review-text");
    const ratingInput = document.getElementById("review-rating");
    const starsInput = document.getElementById("stars-input");
    const list = document.getElementById("reviews-list");

    if (!form || !list) return;

    const STORAGE_KEY = "ksh_reviews_v1";
    let reviews = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
    let editingId = null;

    const uid = () =>
      Math.random().toString(16).slice(2) + Date.now().toString(16);

    function save() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(reviews));
    }

    function escapeHTML(str) {
      return str.replace(/[&<>"']/g, (m) => ({
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#039;",
      }[m]));
    }

    function renderStars(value) {
      const v = Number(value) || 0;
      let html = "";
      for (let i = 1; i <= 5; i++) {
        html += `<i class="fa-solid fa-star ${i <= v ? "filled" : ""}"></i>`;
      }
      return html;
    }

    function render() {
      list.innerHTML = "";

      if (reviews.length === 0) {
        list.innerHTML = `<p class="reviews-empty">No reviews yet. Be the first to leave one! ✨</p>`;
        return;
      }

      const sorted = [...reviews].sort((a, b) => b.createdAt - a.createdAt);

      sorted.forEach((r) => {
        const card = document.createElement("div");
        card.className = "review-card";
        card.dataset.id = r.id;

        card.innerHTML = `
          <div class="review-header">
            <div class="review-user">
              <span class="review-name">${escapeHTML(r.name)}</span>
              <span class="review-date">${new Date(r.createdAt).toLocaleDateString()}</span>
            </div>

            <div class="review-actions">
              <button class="icon-btn edit-btn" title="Edit review">
                <i class="fa-solid fa-pencil"></i>
              </button>
              <button class="delete-btn" title="Delete review">Delete</button>
            </div>
          </div>

          <div class="review-rating">${renderStars(r.rating)}</div>
          <p class="review-text">${escapeHTML(r.text)}</p>
        `;

        card.querySelector(".edit-btn").addEventListener("click", () => {
          startEdit(r.id);
        });

        card.querySelector(".delete-btn").addEventListener("click", () => {
          deleteReview(r.id);
        });

        list.appendChild(card);
      });
    }

    function setRatingUI(value) {
      const v = Number(value) || 0;
      ratingInput.value = v;

      [...starsInput.querySelectorAll("i")].forEach((star) => {
        const sv = Number(star.dataset.value);
        star.classList.toggle("active", sv <= v);
      });
    }

    function startEdit(id) {
      const r = reviews.find((x) => x.id === id);
      if (!r) return;

      editingId = id;
      nameInput.value = r.name;
      textInput.value = r.text;
      setRatingUI(r.rating);

      form.querySelector("button").textContent = "Update Review";
    }

    function deleteReview(id) {
      if (!confirm("Delete this review?")) return;

      reviews = reviews.filter((r) => r.id !== id);
      save();
      render();
    }

    // Star hover + click
    [...starsInput.querySelectorAll("i")].forEach((star) => {
      star.addEventListener("mouseenter", () => setRatingUI(star.dataset.value));
      star.addEventListener("click", () => setRatingUI(star.dataset.value));
    });

    starsInput.addEventListener("mouseleave", () =>
      setRatingUI(ratingInput.value)
    );

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const name = nameInput.value.trim();
      const text = textInput.value.trim();
      const rating = Number(ratingInput.value);

      if (!name || !text || rating < 1) {
        alert("Please write a review and select a rating.");
        return;
      }

      if (editingId) {
        const idx = reviews.findIndex((r) => r.id === editingId);
        reviews[idx] = {
          ...reviews[idx],
          name,
          text,
          rating,
          updatedAt: Date.now(),
        };
        editingId = null;
        form.querySelector("button").textContent = "Add Review";
      } else {
        reviews.push({
          id: uid(),
          name,
          text,
          rating,
          createdAt: Date.now(),
        });
      }

      save();
      form.reset();
      setRatingUI(0);
      render();
    });

    // init
    render();
    setRatingUI(0);
  })();
</script>
      <div class="footer-container">
        <div class="footer-box">
          <h3 data-i18n="about">About KSH</h3>
          <p data-i18n="about_text">
            Elegant makeup designed to enhance your natural beauty.
          </p>
        </div>

        <div class="footer-box">
          <h3 data-i18n="contact">Contact</h3>
          <p>Email: kshmakeup@gmail.com</p>
          <p>Phone: (123) 456-7890</p>
        </div>

        <div class="footer-box">
          <h3 data-i18n="follow">Follow Us</h3>
          <div class="social-icons">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>
      </div>

      <div class="footer-bottom">© 2025 KSH Makeup — All Rights Reserved</div>
    </footer>
<button id="scrollTopBtn" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>

    <script src="script.js"></script>
  </body>
</html>
